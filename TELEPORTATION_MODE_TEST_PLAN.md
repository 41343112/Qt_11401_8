# å‚³é€é™£æ¨¡å¼æ¸¬è©¦è¨ˆåŠƒ (Teleportation Mode Test Plan)

## æ¸¬è©¦ç’°å¢ƒéœ€æ±‚ (Test Environment Requirements)

- Qt5 é–‹ç™¼ç’°å¢ƒ
- Qt WebSockets æ¨¡çµ„
- ç·¨è­¯å¾Œçš„ Qt_Chess æ‡‰ç”¨ç¨‹å¼

## æ‰‹å‹•æ¸¬è©¦æ­¥é©Ÿ (Manual Testing Steps)

### æ¸¬è©¦ 1: åŸºæœ¬åŠŸèƒ½æ¸¬è©¦ (Basic Functionality Test)

**ç›®çš„**: é©—è­‰å‚³é€é™£æ¨¡å¼å¯ä»¥æ­£å¸¸å•Ÿç”¨å’Œé‹ä½œ

**æ­¥é©Ÿ**:
1. å•Ÿå‹• Qt_Chess æ‡‰ç”¨ç¨‹å¼
2. é»æ“Šã€Œç·šä¸Šã€æŒ‰éˆ•é€²å…¥ç·šä¸Šæ¨¡å¼
3. é»æ“Šã€Œå‰µå»ºæˆ¿é–“ã€
4. åœ¨éŠæˆ²æ¨¡å¼å°è©±æ¡†ä¸­å‹¾é¸ã€ŒğŸ”® å‚³é€é™£ã€
5. é»æ“Šã€Œç¢ºå®šã€
6. è¤‡è£½æˆ¿è™Ÿä¸¦åœ¨å¦ä¸€å€‹å¯¦ä¾‹/è£ç½®ä¸­åŠ å…¥æˆ¿é–“
7. é»æ“Šã€Œé–‹å§‹ã€é–‹å§‹éŠæˆ²

**é æœŸçµæœ**:
- æ£‹ç›¤ä¸Šæ‡‰è©²æœ‰å…©å€‹éŠ€è‰²æ ¼å­ï¼ˆå‚³é€é–€ï¼‰
- éŠ€è‰²æ ¼å­æ‡‰è©²åœ¨æ²’æœ‰æ£‹å­çš„ç©ºä½ä¸Š
- å…©å€‹éŠ€è‰²æ ¼å­æ‡‰è©²åœ¨ä¸åŒçš„ä½ç½®

### æ¸¬è©¦ 2: å‚³é€åŠŸèƒ½æ¸¬è©¦ (Teleportation Test)

**ç›®çš„**: é©—è­‰æ£‹å­å¯ä»¥é€šéå‚³é€é–€å‚³é€

**æ­¥é©Ÿ**:
1. åœ¨æ¸¬è©¦ 1 çš„åŸºç¤ä¸Šç¹¼çºŒ
2. ç§»å‹•ä¸€å€‹æ£‹å­åˆ°å…¶ä¸­ä¸€å€‹éŠ€è‰²æ ¼å­ï¼ˆå‚³é€é–€ï¼‰
3. è§€å¯Ÿæ£‹å­æ˜¯å¦å‚³é€åˆ°å¦ä¸€å€‹éŠ€è‰²æ ¼å­

**é æœŸçµæœ**:
- æ£‹å­æ‡‰è©²ç«‹å³å‡ºç¾åœ¨å¦ä¸€å€‹éŠ€è‰²æ ¼å­ä¸Š
- åŸä¾†çš„éŠ€è‰²æ ¼å­æ‡‰è©²è®Šç©º
- å…©å€‹æ–°çš„éŠ€è‰²æ ¼å­æ‡‰è©²å‡ºç¾åœ¨å…¶ä»–ä½ç½®
- æ–°çš„éŠ€è‰²æ ¼å­æ‡‰è©²éƒ½åœ¨ç©ºä½ä¸Š

### æ¸¬è©¦ 3: å¤šæ¬¡å‚³é€æ¸¬è©¦ (Multiple Teleportation Test)

**ç›®çš„**: é©—è­‰å¯ä»¥é‡è¤‡å‚³é€å¤šæ¬¡

**æ­¥é©Ÿ**:
1. åœ¨æ¸¬è©¦ 2 çš„åŸºç¤ä¸Šç¹¼çºŒ
2. å†æ¬¡ç§»å‹•æ£‹å­åˆ°æ–°çš„éŠ€è‰²æ ¼å­
3. é‡è¤‡æ­¤éç¨‹3-5æ¬¡

**é æœŸçµæœ**:
- æ¯æ¬¡å‚³é€éƒ½æ‡‰è©²æˆåŠŸ
- æ¯æ¬¡å‚³é€å¾Œéƒ½æ‡‰è©²å‡ºç¾æ–°çš„å‚³é€é–€
- éŠæˆ²æ‡‰è©²æ­£å¸¸ç¹¼çºŒ

### æ¸¬è©¦ 4: å‚³é€é–€é˜»å¡æ¸¬è©¦ (Portal Blocking Test)

**ç›®çš„**: é©—è­‰ç•¶ç›®æ¨™å‚³é€é–€è¢«ä½”æ“šæ™‚çš„è™•ç†

**æ­¥é©Ÿ**:
1. é–‹å§‹ä¸€å€‹æ–°éŠæˆ²ä¸¦å•Ÿç”¨å‚³é€é™£æ¨¡å¼
2. è¨­æ³•è®“å…©å€‹å‚³é€é–€éƒ½æœ‰æ£‹å­ç«™åœ¨ä¸Šé¢
3. å˜—è©¦ç§»å‹•ä¸€å€‹æ£‹å­åˆ°å…¶ä¸­ä¸€å€‹å‚³é€é–€

**é æœŸçµæœ**:
- å¦‚æœç›®æ¨™å‚³é€é–€è¢«ä½”æ“šï¼Œæ£‹å­æ‡‰è©²ä¸èƒ½å‚³é€
- æ‡‰è©²æœ‰é©ç•¶çš„éŒ¯èª¤è™•ç†ï¼ˆåœ¨èª¿è©¦æ—¥èªŒä¸­ï¼‰

### æ¸¬è©¦ 5: é‚Šç•Œæ¢ä»¶æ¸¬è©¦ (Edge Case Test)

**ç›®çš„**: æ¸¬è©¦ç‰¹æ®Šæƒ…æ³

**æ¸¬è©¦æ¡ˆä¾‹**:
a) **æ£‹ç›¤å¹¾ä¹æ»¿äº†**
   - è¨­ç½®æ£‹ç›¤ä½¿å¾—åªå‰©2-3å€‹ç©ºä½
   - å•Ÿç”¨å‚³é€é™£æ¨¡å¼
   - é æœŸ: æ‡‰è©²èƒ½å¤ é¸æ“‡å…©å€‹ç©ºä½ä½œç‚ºå‚³é€é–€

b) **æ£‹ç›¤å¹¾ä¹ç©ºäº†**
   - ç§»é™¤å¤§éƒ¨åˆ†æ£‹å­
   - å•Ÿç”¨å‚³é€é™£æ¨¡å¼
   - é æœŸ: æ‡‰è©²èƒ½å¤ éš¨æ©Ÿé¸æ“‡å…©å€‹ç©ºä½

c) **èˆ‡å‡è®Šçµåˆ**
   - è®“ä¸€å€‹å…µç§»å‹•åˆ°å‚³é€é–€ä¸¦å‚³é€åˆ°ç¬¬8æ’
   - é æœŸ: æ‡‰è©²å…ˆå‚³é€å†å‡è®Šï¼ˆæˆ–å…ˆå‡è®Šå†å‚³é€ï¼Œå–æ±ºæ–¼è¨­è¨ˆï¼‰

### æ¸¬è©¦ 6: è¦–è¦ºæ•ˆæœæ¸¬è©¦ (Visual Effect Test)

**ç›®çš„**: é©—è­‰éŠ€è‰²å¡—å±¤æ­£ç¢ºé¡¯ç¤º

**æ­¥é©Ÿ**:
1. å•Ÿç”¨å‚³é€é™£æ¨¡å¼
2. æª¢æŸ¥å‚³é€é–€çš„é¡è‰²
3. ç§»å‹•æ£‹å­å¾Œæª¢æŸ¥æ–°å‚³é€é–€çš„é¡è‰²

**é æœŸçµæœ**:
- å‚³é€é–€æ‡‰è©²é¡¯ç¤ºç‚ºéŠ€è‰² (RGB: 192, 192, 192)
- éŠ€è‰²æ‡‰è©²èˆ‡å…¶ä»–æ–¹æ ¼æ˜é¡¯å€åˆ¥
- å‚³é€å¾Œæ–°å‚³é€é–€æ‡‰è©²ç«‹å³ä»¥éŠ€è‰²é¡¯ç¤º

### æ¸¬è©¦ 7: å¤šæ¨¡å¼å…¼å®¹æ¸¬è©¦ (Multi-Mode Compatibility Test)

**ç›®çš„**: é©—è­‰èˆ‡å…¶ä»–æ¨¡å¼çš„å…¼å®¹æ€§

**æ¸¬è©¦æ¡ˆä¾‹**:
a) **å‚³é€é™£ + éœ§æˆ°æ¨¡å¼**
   - åŒæ™‚å•Ÿç”¨å…©ç¨®æ¨¡å¼
   - é æœŸ: å…©ç¨®æ¨¡å¼éƒ½æ‡‰è©²æ­£å¸¸é‹ä½œ

b) **å‚³é€é™£ + åœ°å¸å¼•åŠ›æ¨¡å¼**
   - åŒæ™‚å•Ÿç”¨å…©ç¨®æ¨¡å¼
   - é æœŸ: å‚³é€å¾Œæ‡‰è©²å…ˆæ‡‰ç”¨åœ°å¸å¼•åŠ›

### æ¸¬è©¦ 8: ä¸åŒéŠæˆ²æ¨¡å¼æ¸¬è©¦ (Different Game Mode Test)

**æ¸¬è©¦æ¡ˆä¾‹**:
a) **é›™äººæ¨¡å¼**
   - åˆ‡æ›åˆ°é›™äººæ¨¡å¼
   - é æœŸ: å‚³é€é™£æ‡‰è©²è¢«åœç”¨

b) **é›»è…¦æ¨¡å¼**
   - åˆ‡æ›åˆ°é›»è…¦æ¨¡å¼
   - é æœŸ: å‚³é€é™£æ‡‰è©²è¢«åœç”¨

c) **ç·šä¸Šæ¨¡å¼åˆ°é›™äººæ¨¡å¼**
   - å¾ç·šä¸Šæ¨¡å¼é€€å‡ºæˆ¿é–“
   - é æœŸ: å‚³é€é™£æ‡‰è©²è¢«åœç”¨

## è‡ªå‹•åŒ–æ¸¬è©¦å»ºè­° (Automated Testing Suggestions)

å¦‚æœè¦å¯¦ä½œè‡ªå‹•åŒ–æ¸¬è©¦ï¼Œå»ºè­°æ¸¬è©¦ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **å–®å…ƒæ¸¬è©¦**:
   - `initializeTeleportPortals()` å‡½æ•¸
   - `resetTeleportPortals()` å‡½æ•¸
   - `isTeleportPortal()` å‡½æ•¸
   - `handleTeleportation()` å‡½æ•¸

2. **æ•´åˆæ¸¬è©¦**:
   - å‚³é€é™£æ¨¡å¼å•Ÿç”¨/åœç”¨æµç¨‹
   - æ£‹å­ç§»å‹•åˆ°å‚³é€é–€çš„å®Œæ•´æµç¨‹
   - èˆ‡å…¶ä»–æ¨¡å¼çš„äº¤äº’

3. **æ€§èƒ½æ¸¬è©¦**:
   - å¤§é‡å‚³é€æ“ä½œçš„æ€§èƒ½
   - å‚³é€é–€é‡ç½®çš„æ•ˆç‡

## å·²çŸ¥é™åˆ¶ (Known Limitations)

1. éœ€è¦è‡³å°‘å…©å€‹ç©ºæ ¼å­æ‰èƒ½å•Ÿç”¨å‚³é€é™£æ¨¡å¼
2. å¦‚æœç›®æ¨™å‚³é€é–€è¢«ä½”æ“šï¼Œå‚³é€æœƒå¤±æ•—ï¼ˆé€™æ˜¯è¨­è¨ˆè¡Œç‚ºï¼‰
3. ç›®å‰åªæ”¯æ´ç·šä¸Šæ¨¡å¼ï¼ˆé›™äººå’Œé›»è…¦æ¨¡å¼æœƒåœç”¨å‚³é€é™£ï¼‰

## èª¿è©¦å·¥å…· (Debugging Tools)

ä½¿ç”¨ä»¥ä¸‹æ—¥èªŒæŸ¥çœ‹å‚³é€é™£æ¨¡å¼çš„é‹ä½œï¼š

```bash
# åŸ·è¡Œç¨‹å¼ä¸¦æŸ¥çœ‹èª¿è©¦è¼¸å‡º
./Qt_Chess 2>&1 | grep -i "teleport"
```

é—œéµæ—¥èªŒè¨Šæ¯ï¼š
- `[Qt_Chess::onStartGameReceived] Teleportation mode enabled`
- `[Qt_Chess::resetTeleportPortals] Portal 1: ... Portal 2: ...`
- `[Qt_Chess::handleTeleportation] Piece landed on portal at ...`
- `[Qt_Chess::handleTeleportation] Teleported piece to ...`
- `[Qt_Chess::handleTeleportation] Target portal is not empty, teleportation failed`

## éŒ¯èª¤å ±å‘Š (Bug Reporting)

å¦‚æœç™¼ç¾å•é¡Œï¼Œè«‹æä¾›ä»¥ä¸‹è³‡è¨Šï¼š
1. Qt ç‰ˆæœ¬
2. ä½œæ¥­ç³»çµ±
3. é‡ç¾æ­¥é©Ÿ
4. é æœŸè¡Œç‚º vs å¯¦éš›è¡Œç‚º
5. èª¿è©¦æ—¥èªŒï¼ˆå¦‚æœå¯èƒ½ï¼‰
6. æˆªåœ–æˆ–éŒ„å½±ï¼ˆå¦‚æœç›¸é—œï¼‰
